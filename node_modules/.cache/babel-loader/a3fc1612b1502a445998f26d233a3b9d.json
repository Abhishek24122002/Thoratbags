{"ast":null,"code":"import _regeneratorRuntime from\"D:/Sem 5/github/review/EBAGS/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"D:/Sem 5/github/review/EBAGS/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _classCallCheck from\"D:/Sem 5/github/review/EBAGS/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"D:/Sem 5/github/review/EBAGS/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _inherits from\"D:/Sem 5/github/review/EBAGS/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"D:/Sem 5/github/review/EBAGS/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import React from'react';import InputComponent from'../components/common/inputComponent';import Form from'../components/common/form';import axios from'axios';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var RegisterPage=/*#__PURE__*/function(_Form){_inherits(RegisterPage,_Form);var _super=_createSuper(RegisterPage);function RegisterPage(){var _this;_classCallCheck(this,RegisterPage);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={account:{email:'',username:'',password:''},error:{}};_this.validate=function(){var error={};if(_this.state.account.email.trim()==\"\"){error.username='email is required';}if(_this.state.account.username.trim()==\"\"){error.username='username is required';}if(_this.state.account.password.trim()==\"\")error.password='password is required';return Object.keys(error).length==0?\"\":error;};_this.validateProperty=function(input){if(input.name==\"email\"){if(input.value.trim()==\"\")return\"email is required\";}if(input.name==\"username\"){if(input.value.trim()==\"\")return\"username is required\";}if(input.name==\"password\"){if(input.value.trim()==\"\")return\"password is required\";}};_this.handleSubmit=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(e){var error,response;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:e.preventDefault();error=_this.validate();_this.setState({error:error});if(!error){_context.next=6;break;}console.log(error);return _context.abrupt(\"return\");case 6:_context.next=8;return axios.post('http://localhost:5000/api/users',_this.state.account);case 8:response=_context.sent;alert(response.data);case 10:case\"end\":return _context.stop();}}},_callee);}));return function(_x){return _ref.apply(this,arguments);};}();return _this;}_createClass(RegisterPage,[{key:\"render\",value:function render(){return/*#__PURE__*/_jsxs(\"div\",{className:\"col-3 mx-auto my-5\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-center\",children:\"Sign-up\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:this.handleSubmit,children:[/*#__PURE__*/_jsx(InputComponent,{title:\"E-mail\",type:\"text\",name:\"email\",error:this.state.error.email,onChange:this.handleChange}),/*#__PURE__*/_jsx(InputComponent,{title:\"Username\",type:\"text\",name:\"username\",error:this.state.error.username,onChange:this.handleChange}),/*#__PURE__*/_jsx(InputComponent,{title:\"Password\",type:\"password\",name:\"password\",error:this.state.error.password,onChange:this.handleChange}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn btn-primary\",children:\"Submit\"})]})]});}}]);return RegisterPage;}(Form);export default RegisterPage;","map":{"version":3,"names":["React","InputComponent","Form","axios","RegisterPage","state","account","email","username","password","error","validate","trim","Object","keys","length","validateProperty","input","name","value","handleSubmit","e","preventDefault","setState","console","log","post","response","alert","data","handleChange"],"sources":["D:/Sem 5/github/review/EBAGS/src/pages/registerPage.jsx"],"sourcesContent":["import React from 'react';\r\nimport InputComponent from '../components/common/inputComponent';\r\nimport Form from '../components/common/form';\r\nimport axios from 'axios'\r\n\r\nclass RegisterPage extends Form {\r\n    state = {\r\n        account: {\r\n            email: '',\r\n            username: '',\r\n            password: ''\r\n        },\r\n        error: {\r\n        }\r\n    }\r\n\r\n    validate = () => { \r\n        let error = {}\r\n        if (this.state.account.email.trim() == \"\") {\r\n            error.username = 'email is required'\r\n        }\r\n        if (this.state.account.username.trim() == \"\") {\r\n            error.username = 'username is required'\r\n        }\r\n        if (this.state.account.password.trim() == \"\")\r\n            error.password = 'password is required'\r\n        return Object.keys(error).length == 0 ? \"\" : error\r\n    }\r\n\r\n    validateProperty = input => {\r\n\r\n        if (input.name == \"email\") {\r\n            if (input.value.trim() == \"\")\r\n                return \"email is required\"\r\n        }\r\n        if (input.name == \"username\") {\r\n            if (input.value.trim() == \"\")\r\n                return \"username is required\"\r\n        }\r\n        if (input.name == \"password\") {\r\n            if (input.value.trim() == \"\")\r\n                return \"password is required\"\r\n        }\r\n    }\r\n    handleSubmit = async (e) => {\r\n        e.preventDefault()\r\n        const error = this.validate();\r\n        this.setState({ error: error })\r\n        if(error){\r\n            console.log(error)\r\n            return\r\n        }\r\n        // console.log(await axios.post('http://localhost:5000/api/users',this.state.account))\r\n        \r\n            const response = await axios.post('http://localhost:5000/api/users',this.state.account)\r\n            alert(response.data)\r\n        }\r\n\r\n    render() {\r\n        return (\r\n            <div className='col-3 mx-auto my-5'>\r\n                <h1 className='text-center'>Sign-up</h1>\r\n                <form onSubmit={this.handleSubmit}>\r\n                    <InputComponent title=\"E-mail\" type=\"text\" name=\"email\" error={this.state.error.email} onChange={this.handleChange} />\r\n                    <InputComponent title=\"Username\" type=\"text\" name=\"username\" error={this.state.error.username} onChange={this.handleChange} />\r\n                    <InputComponent title=\"Password\" type=\"password\" name=\"password\" error={this.state.error.password} onChange={this.handleChange} />\r\n                    <button type=\"submit\" className=\"btn btn-primary\">Submit</button>\r\n                </form>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default RegisterPage;"],"mappings":"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"},"metadata":{},"sourceType":"module"}